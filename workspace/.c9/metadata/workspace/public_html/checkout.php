{"filter":false,"title":"checkout.php","tooltip":"/public_html/checkout.php","undoManager":{"mark":16,"position":16,"stack":[[{"start":{"row":0,"column":0},"end":{"row":27,"column":0},"action":"insert","lines":["<?php","require_once(\"../includes/braintree_init.php\");","","$amount = $_POST[\"amount\"];","$nonce = $_POST[\"payment_method_nonce\"];","","$result = Braintree\\Transaction::sale([","    'amount' => $amount,","    'paymentMethodNonce' => $nonce,","    'options' => [","        'submitForSettlement' => true","    ]","]);","","if ($result->success || !is_null($result->transaction)) {","    $transaction = $result->transaction;","    header(\"Location: transaction.php?id=\" . $transaction->id);","} else {","    $errorString = \"\";","","    foreach($result->errors->deepAll() as $error) {","        $errorString .= 'Error: ' . $error->code . \": \" . $error->message . \"\\n\";","    }","","    $_SESSION[\"errors\"] = $errorString;","    header(\"Location: index.php\");","}",""],"id":1}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":3},"action":"insert","lines":["// "],"id":13},{"start":{"row":15,"column":0},"end":{"row":15,"column":3},"action":"insert","lines":["// "]},{"start":{"row":16,"column":0},"end":{"row":16,"column":3},"action":"insert","lines":["// "]},{"start":{"row":17,"column":0},"end":{"row":17,"column":3},"action":"insert","lines":["// "]},{"start":{"row":18,"column":0},"end":{"row":18,"column":3},"action":"insert","lines":["// "]},{"start":{"row":20,"column":0},"end":{"row":20,"column":3},"action":"insert","lines":["// "]},{"start":{"row":21,"column":0},"end":{"row":21,"column":3},"action":"insert","lines":["// "]},{"start":{"row":22,"column":0},"end":{"row":22,"column":3},"action":"insert","lines":["// "]},{"start":{"row":24,"column":0},"end":{"row":24,"column":3},"action":"insert","lines":["// "]},{"start":{"row":25,"column":0},"end":{"row":25,"column":3},"action":"insert","lines":["// "]},{"start":{"row":26,"column":0},"end":{"row":26,"column":3},"action":"insert","lines":["// "]}],[{"start":{"row":12,"column":3},"end":{"row":13,"column":0},"action":"insert","lines":["",""],"id":14}],[{"start":{"row":13,"column":0},"end":{"row":14,"column":0},"action":"insert","lines":["",""],"id":15}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":1},"action":"insert","lines":["e"],"id":16}],[{"start":{"row":14,"column":1},"end":{"row":14,"column":2},"action":"insert","lines":["c"],"id":17}],[{"start":{"row":14,"column":2},"end":{"row":14,"column":3},"action":"insert","lines":["h"],"id":18}],[{"start":{"row":14,"column":3},"end":{"row":14,"column":4},"action":"insert","lines":["o"],"id":19}],[{"start":{"row":14,"column":4},"end":{"row":14,"column":5},"action":"insert","lines":[" "],"id":20}],[{"start":{"row":14,"column":5},"end":{"row":14,"column":7},"action":"insert","lines":["()"],"id":21}],[{"start":{"row":14,"column":6},"end":{"row":14,"column":7},"action":"insert","lines":["$"],"id":22}],[{"start":{"row":14,"column":7},"end":{"row":14,"column":8},"action":"insert","lines":["r"],"id":23}],[{"start":{"row":14,"column":8},"end":{"row":14,"column":9},"action":"insert","lines":["e"],"id":24}],[{"start":{"row":14,"column":6},"end":{"row":14,"column":9},"action":"remove","lines":["$re"],"id":25},{"start":{"row":14,"column":6},"end":{"row":14,"column":13},"action":"insert","lines":["$result"]}],[{"start":{"row":14,"column":14},"end":{"row":14,"column":15},"action":"insert","lines":["l"],"id":26}],[{"start":{"row":14,"column":14},"end":{"row":14,"column":15},"action":"remove","lines":["l"],"id":27}],[{"start":{"row":14,"column":14},"end":{"row":14,"column":15},"action":"insert","lines":[";"],"id":28}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":1,"column":0},"end":{"row":2,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1476685928863,"hash":"22d06c56056d188ea9e97a72a1c0d3d8245bfb91"}